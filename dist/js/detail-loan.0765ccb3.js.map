{"version":3,"file":"js/detail-loan.0765ccb3.js","mappings":"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","sources":["webpack://prestamos-app/./src/loans/context/views/DetailLoan.vue","webpack://prestamos-app/./src/loans/context/components/LoanCard.vue","webpack://prestamos-app/src/loans/context/components/LoanCard.vue","webpack://prestamos-app/./src/loans/context/components/LoanCard.vue?0b84","webpack://prestamos-app/./src/loans/context/components/LoanCard.vue?7c7c","webpack://prestamos-app/./src/loans/context/components/LoanFees.vue","webpack://prestamos-app/./src/loans/context/components/AddFeeModal.vue","webpack://prestamos-app/src/loans/context/components/AddFeeModal.vue","webpack://prestamos-app/./src/loans/context/components/AddFeeModal.vue?97cb","webpack://prestamos-app/./src/loans/context/components/AddFeeModal.vue?d560","webpack://prestamos-app/src/loans/context/components/LoanFees.vue","webpack://prestamos-app/./src/loans/context/components/LoanFees.vue?0522","webpack://prestamos-app/./src/loans/context/components/LoanFees.vue?74c5","webpack://prestamos-app/./src/loans/context/components/LoanActions.vue","webpack://prestamos-app/./src/loans/context/components/AmountLoanDetails.vue","webpack://prestamos-app/src/loans/context/components/AmountLoanDetails.vue","webpack://prestamos-app/./src/loans/context/components/AmountLoanDetails.vue?2532","webpack://prestamos-app/./src/loans/context/components/AmountLoanDetails.vue?18fb","webpack://prestamos-app/src/loans/context/components/LoanActions.vue","webpack://prestamos-app/./src/loans/context/components/LoanActions.vue?cd81","webpack://prestamos-app/./src/loans/context/components/LoanActions.vue?fb32","webpack://prestamos-app/src/loans/context/views/DetailLoan.vue","webpack://prestamos-app/./src/loans/context/views/DetailLoan.vue?5539","webpack://prestamos-app/./src/loans/context/views/DetailLoan.vue?8b44"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('title-general',{attrs:{\"title\":\"\",\"buttonBack\":_vm.goToBack}}),_c('div',{staticClass:\"o-detail-loan\"},[_c('div',{staticClass:\"o-detail-loan__header\"},[_c('p',[_vm._v(_vm._s(_vm.clientName))]),_c('div',{staticClass:\"d-flex align-items-center justify-content-between\"},[_c('p',{staticClass:\"amount\"},[_vm._v(\" $ \"+_vm._s(_vm._f(\"formatNumber\")(_vm.loanSelected.balance)))]),_c('loan-actions')],1)]),_c('div',{staticClass:\"o-detail-loan__body\"},[_c('loan-card',{attrs:{\"balance\":_vm.loanSelected.balance,\"total-amount\":_vm.total}}),_c('div',{staticClass:\"d-flex align-items-center\"},[_c('div',{staticClass:\"o-detail-loan__calendar\"}),_c('div',[_c('p',{staticClass:\"o-card__text-gray\"},[_vm._v(\"Fecha de inicio del préstamo\")]),_c('p',{staticClass:\"text-book\"},[_vm._v(_vm._s(_vm._f(\"formatDate\")(_vm.loanSelected.date)))])])]),_c('div',{staticClass:\"d-flex align-items-center mt-2\"},[_c('div',{staticClass:\"o-detail-loan__fees\"}),_c('div',[_c('p',{staticClass:\"o-card__text-gray\"},[_vm._v(\"Plazo del préstamo\")]),_c('p',{staticClass:\"text-book\"},[_vm._v(\" \"+_vm._s(_vm.loanSelected.feesNum)+\" \"+_vm._s(_vm.typeTime))])])]),_c('loan-fees',{attrs:{\"fees\":_vm.fees,\"num-paid\":_vm.numPaid}})],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"o-detail-loan__card\"},[_c('div',{staticClass:\"o-detail-loan__card-item\"},[_c('p',{staticClass:\"o-card__text-gray\"},[_vm._v(\"Pendiente\")]),_c('p',{staticClass:\"amount\"},[_c('span',{staticClass:\"point point--danger\"}),_vm._v(\" $ \"+_vm._s(_vm._f(\"formatNumber\")(parseInt(_vm.balance) - parseInt(_vm.totalAmount))))])]),_c('div',{staticClass:\"o-detail-loan__card-item\"},[_c('p',{staticClass:\"o-card__text-gray\"},[_vm._v(\"Pagado\")]),_c('p',{staticClass:\"amount\"},[_c('span',{staticClass:\"point point--success\"}),_vm._v(\" $ \"+_vm._s(_vm._f(\"formatNumber\")(_vm.totalAmount)))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"o-detail-loan__card\">\n    <div class=\"o-detail-loan__card-item\">\n      <p class=\"o-card__text-gray\">Pendiente</p>\n      <p class=\"amount\"><span class=\"point point--danger\" /> $ {{ parseInt(balance) - parseInt(totalAmount) | formatNumber }}</p>\n    </div>\n    <div class=\"o-detail-loan__card-item\">\n      <p class=\"o-card__text-gray\">Pagado</p>\n      <p class=\"amount\"><span class=\"point point--success\" /> $ {{ totalAmount | formatNumber }}</p>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"LoanCard\",\n\n  props: {\n    balance: {\n      type: [Number, String],\n      default: 0\n    },\n\n    totalAmount: {\n      type: [Number, String],\n      default: 0\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoanCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoanCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoanCard.vue?vue&type=template&id=02c2faf7&\"\nimport script from \"./LoanCard.vue?vue&type=script&lang=js&\"\nexport * from \"./LoanCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"p-2 mt-2\"},[_c('div',{staticClass:\"d-flex align-items-center justify-content-between mb-2\"},[_c('div',{staticClass:\"d-flex align-items-center\"},[_c('p',{staticClass:\"text-book\"},[_vm._v(\"Cuotas\")]),_c('b-icon-plus-circle-fill',{staticClass:\"ml-2 m-fee__add-fee\",on:{\"click\":function($event){return _vm.openModal()}}})],1),_c('p',{staticClass:\"o-card__text-gray o-detail-loan__counter\"},[_vm._v(_vm._s(_vm.numPaid)+\" de \"+_vm._s(_vm.numTotalFees))])]),_c('div',{staticClass:\"o-detail-loan__fees-container\"},_vm._l((_vm.fees),function(fee){return _c('fee-row',{key:fee.id,attrs:{\"fee\":fee,\"action\":_vm.getFees}})}),1),_c('add-fee-modal',{attrs:{\"action\":_vm.getFees}}),_c('possible-date-modal',{attrs:{\"action\":_vm.getFees}}),_c('paid-amount-modal',{attrs:{\"action\":_vm.getFees}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-modal',{attrs:{\"id\":\"feeModal\",\"hide-footer\":\"\",\"centered\":\"\",\"hide-header\":\"\",\"content-class\":\"border-0\",\"body-class\":\"p-0\"},on:{\"show\":_vm.fillData}},[_c('div',{staticClass:\"o-modal\"},[_c('div',{staticClass:\"o-modal__header\"},[_c('p',[_vm._v(\"Agregar cuota\")])]),_c('div',{staticClass:\"o-modal__body\"},[_c('input-date',{model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}}),_c('input-general',{attrs:{\"is-number\":\"\",\"icon\":\"fa-hand-holding-dollar\",\"label\":\"Valor\"},model:{value:(_vm.amount),callback:function ($$v) {_vm.amount=$$v},expression:\"amount\"}})],1),_c('div',{staticClass:\"o-modal__footer\"},[_c('p',{staticClass:\"o-modal__action\",on:{\"click\":function($event){return _vm.closeModal()}}},[_vm._v(\"CANCELAR\")]),_c('p',{staticClass:\"o-modal__action\",on:{\"click\":function($event){return _vm.addFee()}}},[_vm._v(\"ACEPTAR\")])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-modal @show=\"fillData\" id=\"feeModal\" hide-footer centered hide-header content-class=\"border-0\" body-class=\"p-0\">\n    <div class=\"o-modal\">\n      <div class=\"o-modal__header\">\n        <p>Agregar cuota</p>\n      </div>\n      <div class=\"o-modal__body\">\n        <input-date v-model=\"date\" />\n        <input-general v-model=\"amount\" is-number icon=\"fa-hand-holding-dollar\" label=\"Valor\" />\n      </div>\n      <div class=\"o-modal__footer\">\n        <p class=\"o-modal__action\" @click=\"closeModal()\">CANCELAR</p>\n        <p class=\"o-modal__action\" @click=\"addFee()\">ACEPTAR</p>\n      </div>\n    </div>\n  </b-modal>\n</template>\n\n<script>\nimport InputDate from \"@/shared/components/InputDate\";\nimport InputGeneral from \"@/shared/components/InputGeneral\";\nimport FeesUc from \"@/loans/usecases/feesUc\";\nimport { mapMutations, mapState } from \"vuex\";\nimport { notification } from \"@/shared/notification\";\nimport moment from \"moment\";\nimport { utils } from \"@/shared/utils\";\n\nexport default {\n  name: \"AddFeeModal\",\n\n  props: {\n    action: {\n      type: Function,\n      default: () => {}\n    }\n  },\n\n  components: {\n    InputGeneral,\n    InputDate\n  },\n\n  data() {\n    return {\n      date: new Date(),\n      amount: '',\n      uc: new FeesUc(),\n      id: ''\n    }\n  },\n\n  computed: {\n    ...mapState('loansStore', ['loanSelected', 'feeSelected'])\n  },\n\n  methods: {\n    closeModal () {\n      this.$bvModal.hide('feeModal')\n      this.date = new Date()\n      this.amount = ''\n      this.setFeeSelected(null)\n    },\n\n    addFee () {\n      const date = moment(this.date).format('DD-MM-YYYY')\n      const response = this.uc.addFee(date, this.amount, this.loanSelected.id, this.id)\n\n      if (response) {\n        notification.notify('Cuota agregada corrrectamente')\n        this.closeModal()\n        this.action()\n      }\n    },\n\n    fillData () {\n      if (this.feeSelected) {\n        const date2 = this.feeSelected.date.split('-')\n\n        this.date = new Date(`${date2[1]}/${date2[0]}/${date2[2]}`)\n        this.amount = utils.formatNumber(this.feeSelected.amount)\n        this.id = this.feeSelected.id\n      }\n    },\n\n    ...mapMutations('loansStore', ['setFeeSelected'])\n  },\n\n  created () {\n    this.fillData()\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AddFeeModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AddFeeModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddFeeModal.vue?vue&type=template&id=1941a95a&\"\nimport script from \"./AddFeeModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AddFeeModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"p-2 mt-2\">\n    <div class=\"d-flex align-items-center justify-content-between mb-2\">\n      <div class=\"d-flex align-items-center\">\n        <p class=\"text-book\">Cuotas</p>\n        <b-icon-plus-circle-fill @click=\"openModal()\" class=\"ml-2 m-fee__add-fee\" />\n      </div>\n      <p class=\"o-card__text-gray o-detail-loan__counter\">{{ numPaid }} de {{ numTotalFees }}</p>\n    </div>\n    <div class=\"o-detail-loan__fees-container\">\n      <fee-row  v-for=\"fee in fees\" :key=\"fee.id\" :fee=\"fee\" :action=\"getFees\" />\n    </div>\n    <add-fee-modal :action=\"getFees\" />\n    <possible-date-modal :action=\"getFees\" />\n    <paid-amount-modal :action=\"getFees\" />\n  </div>\n</template>\n\n<script>\nimport FeesUc from \"@/loans/usecases/feesUc\";\nimport { mapMutations, mapState } from \"vuex\";\nimport AddFeeModal from \"@/loans/context/components/AddFeeModal\";\nimport PossibleDateModal from \"@/loans/context/components/PossibleDateModal\";\nimport PaidAmountModal from \"@/loans/context/components/PaidAmountModal\";\nimport FeeRow from \"@/loans/context/components/FeeRow\";\n\nexport default {\n  name: \"LoanFees\",\n\n  components: { FeeRow, PaidAmountModal, PossibleDateModal, AddFeeModal },\n\n  props: {\n    fees: {\n      type: Array\n    },\n\n    numPaid: {\n      type: [ String, Number ]\n    }\n  },\n\n  data() {\n    return {\n      uc: new FeesUc()\n    }\n  },\n\n  computed: {\n    numTotalFees () {\n      return this.fees.length\n    },\n\n    ...mapState('loansStore', ['loanSelected'])\n  },\n\n  methods: {\n    getFees () {\n      const fees = this.uc.getFeesByLoan(this.loanSelected.id)\n      const totalFees = this.uc.getTotalFees(this.loanSelected.id)\n\n      this.setFees({ fees: fees, total: totalFees.total, numPaid: totalFees.numPaid })\n    },\n\n    openModal () {\n      this.$bvModal.show('feeModal')\n    },\n\n    ...mapMutations('loansStore', ['setFees'])\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoanFees.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoanFees.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoanFees.vue?vue&type=template&id=ad9bc34e&\"\nimport script from \"./LoanFees.vue?vue&type=script&lang=js&\"\nexport * from \"./LoanFees.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"o-detail-loan__actions\"},[_c('div',{staticClass:\"text-center mr-3\"},[_c('f-icon',{attrs:{\"icon\":\"fa-circle-info\"},on:{\"click\":function($event){return _vm.amountDetails()}}}),_c('p',[_vm._v(\"Detalles\")])],1),_c('div',{staticClass:\"text-center mr-3\"},[_c('f-icon',{attrs:{\"icon\":\"fa-pen\"},on:{\"click\":function($event){return _vm.editLoan()}}}),_c('p',[_vm._v(\"Editar\")])],1),_c('div',{staticClass:\"text-center\"},[_c('f-icon',{attrs:{\"icon\":\"fa-trash-can\"},on:{\"click\":function($event){return _vm.deleteLoan()}}}),_c('p',[_vm._v(\"Eliminar\")])],1),_c('amount-loan-details')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-modal',{attrs:{\"id\":\"amountLoanDetails\",\"hide-footer\":\"\",\"centered\":\"\",\"hide-header\":\"\",\"content-class\":\"border-0\",\"body-class\":\"p-0\"}},[_c('div',{staticClass:\"o-modal\"},[_c('div',{staticClass:\"o-modal__header\"},[_c('p',[_vm._v(\"Detalles del préstamo\")])]),_c('div',{staticClass:\"o-modal__body\"},[_c('div',{staticClass:\"d-flex align-items-center\"},[_c('div',{staticClass:\"o-detail-loan__fees\"}),_c('div',[_c('p',{staticClass:\"o-card__text-gray\"},[_vm._v(\"Capital\")]),_c('p',{staticClass:\"text-book\"},[_vm._v(\"$ \"+_vm._s(_vm._f(\"formatNumber\")(_vm.loanSelected.amount)))])])]),_c('div',{staticClass:\"d-flex align-items-center mt-2\"},[_c('div',{staticClass:\"o-detail-loan__fees\"}),_c('div',[_c('p',{staticClass:\"o-card__text-gray\"},[_vm._v(\"Interés\")]),_c('p',{staticClass:\"text-book\"},[_vm._v(\"$ \"+_vm._s(_vm._f(\"formatNumber\")(_vm.loanSelected.interes)))])])])]),_c('div',{staticClass:\"o-modal__footer\"},[_c('p',{staticClass:\"o-modal__action\",on:{\"click\":function($event){return _vm.closeModal()}}},[_vm._v(\"CERRAR\")])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-modal id=\"amountLoanDetails\" hide-footer centered hide-header content-class=\"border-0\" body-class=\"p-0\">\n    <div class=\"o-modal\">\n      <div class=\"o-modal__header\">\n        <p>Detalles del préstamo</p>\n      </div>\n      <div class=\"o-modal__body\">\n        <div class=\"d-flex align-items-center\">\n          <div class=\"o-detail-loan__fees\"/>\n          <div>\n            <p class=\"o-card__text-gray\">Capital</p>\n            <p class=\"text-book\">$ {{ loanSelected.amount | formatNumber }}</p>\n          </div>\n        </div>\n\n        <div class=\"d-flex align-items-center mt-2\">\n          <div class=\"o-detail-loan__fees\"/>\n          <div>\n            <p class=\"o-card__text-gray\">Interés</p>\n            <p class=\"text-book\">$ {{ loanSelected.interes | formatNumber }}</p>\n          </div>\n        </div>\n      </div>\n      <div class=\"o-modal__footer\">\n        <p class=\"o-modal__action\" @click=\"closeModal()\">CERRAR</p>\n      </div>\n    </div>\n  </b-modal>\n</template>\n\n<script>\n\nimport { mapState } from \"vuex\";\n\nexport default {\n  name: \"AmountLoanDetails\",\n\n  computed: {\n    ...mapState('loansStore', ['loanSelected'])\n  },\n\n  methods: {\n    closeModal () {\n      this.$bvModal.hide('amountLoanDetails')\n    }\n  },\n}\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AmountLoanDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AmountLoanDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AmountLoanDetails.vue?vue&type=template&id=2c18aaa2&\"\nimport script from \"./AmountLoanDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./AmountLoanDetails.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"o-detail-loan__actions\">\n    <div class=\"text-center mr-3\">\n      <f-icon @click=\"amountDetails()\" icon=\"fa-circle-info\" />\n      <p>Detalles</p>\n    </div>\n\n    <div class=\"text-center mr-3\">\n      <f-icon @click=\"editLoan()\" icon=\"fa-pen\"/>\n      <p>Editar</p>\n    </div>\n\n    <div class=\"text-center\">\n      <f-icon @click=\"deleteLoan()\" icon=\"fa-trash-can\"/>\n      <p>Eliminar</p>\n    </div>\n    <amount-loan-details />\n  </div>\n</template>\n\n<script>\n\nimport { mapMutations, mapState } from \"vuex\";\nimport { notification } from \"@/shared/notification\";\nimport LoansUc from \"@/loans/usecases/loansUc\";\nimport ClientsUc from \"@/clients/usecases/clientsUc\";\nimport AmountLoanDetails from \"@/loans/context/components/AmountLoanDetails\";\n\nexport default {\n  name: \"LoanActions\",\n\n  components: {\n    AmountLoanDetails\n  },\n\n  data() {\n    return {\n      uc: new LoansUc(),\n      clientsUc: new ClientsUc()\n    }\n  },\n\n  computed: {\n    ...mapState('loansStore', ['loanSelected']),\n  },\n\n  methods: {\n    editLoan () {\n      this.setClientSelected(this.clientsUc.getClientById(this.loanSelected.clientId))\n      this.setBackRoute('/detail-loan')\n      this.$router.push('/save-loan')\n    },\n\n    async deleteLoan() {\n      const rta = await notification.confirm(\n        \"Se eliminará el prestamo y todos los abonos hechos, ¿Está seguro?\"\n      )\n\n      if (rta.isConfirmed) {\n        this.uc.deleteLoan(this.loanSelected.id)\n        this.setLoanSelected(null)\n\n        await notification.notify(\"Préstamos eliminado\")\n        this.$router.push(\"/detail-client\")\n      }\n    },\n\n    amountDetails () {\n      this.$bvModal.show('amountLoanDetails')\n    },\n\n    ...mapMutations('loansStore', ['setLoanSelected', 'setBackRoute']),\n    ...mapMutations('clientsStore', ['setClientSelected'])\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoanActions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoanActions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoanActions.vue?vue&type=template&id=31c35a02&\"\nimport script from \"./LoanActions.vue?vue&type=script&lang=js&\"\nexport * from \"./LoanActions.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <title-general title=\"\" :buttonBack=\"goToBack\" />\n    <div class=\"o-detail-loan\">\n      <div class=\"o-detail-loan__header\">\n        <p>{{ clientName }}</p>\n\n        <div class=\"d-flex align-items-center justify-content-between\">\n          <p class=\"amount\"> $ {{ loanSelected.balance | formatNumber }}</p>\n\n          <loan-actions />\n        </div>\n      </div>\n\n      <div class=\"o-detail-loan__body\">\n        <loan-card :balance=\"loanSelected.balance\" :total-amount=\"total\" />\n\n        <div class=\"d-flex align-items-center\">\n          <div class=\"o-detail-loan__calendar\"/>\n          <div>\n            <p class=\"o-card__text-gray\">Fecha de inicio del préstamo</p>\n            <p class=\"text-book\">{{ loanSelected.date | formatDate }}</p>\n          </div>\n        </div>\n\n        <div class=\"d-flex align-items-center mt-2\">\n          <div class=\"o-detail-loan__fees\"/>\n          <div>\n            <p class=\"o-card__text-gray\">Plazo del préstamo</p>\n            <p class=\"text-book\"> {{ loanSelected.feesNum }} {{ typeTime }}</p>\n          </div>\n        </div>\n\n        <loan-fees :fees=\"fees\" :num-paid=\"numPaid\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport TitleGeneral from \"@/shared/components/TitleGeneral\"\nimport { mapMutations, mapState } from \"vuex\";\nimport FeesUc from \"@/loans/usecases/feesUc\";\nimport LoanCard from \"@/loans/context/components/LoanCard\";\nimport LoanFees from \"@/loans/context/components/LoanFees\";\nimport LoanActions from \"@/loans/context/components/LoanActions\";\nimport ClientsUc from \"@/clients/usecases/clientsUc\";\nimport { notification } from \"@/shared/notification\";\nimport LoansUc from \"@/loans/usecases/loansUc\";\n\nexport default {\n  components: {\n    LoanActions,\n    LoanFees,\n    LoanCard,\n    TitleGeneral\n  },\n\n  data() {\n    return {\n      uc: new FeesUc(),\n      clientsUc: new ClientsUc(),\n      loansUc: new LoansUc()\n    }\n  },\n\n  computed: {\n    typeTime () {\n      if (this.loanSelected.feesNum && this.loanSelected.typeTime) {\n        const numFees = this.loanSelected.feesNum\n        if (this.loanSelected.typeTime === 1) return numFees > 1 ? 'días' : 'Día'\n        if (this.loanSelected.typeTime === 8) return numFees > 1 ? 'Semanas' : 'Semana'\n        if (this.loanSelected.typeTime === 15) return numFees > 1 ? 'Quincenas' : 'Quincena'\n\n        return numFees > 1 ? 'Meses' : 'Mes'\n      } else {\n        return 'Sin plazo definido'\n      }\n    },\n\n    clientName () {\n      const client = this.clientsUc.getClientById(this.loanSelected.clientId)\n\n      return client.name\n    },\n\n    goToBack () {\n      if (this.backMainRoute === '/clients') {\n        const loans = this.loansUc.getLoansByClient(this.loanSelected.clientId)\n        const number = loans.length\n\n        return number > 1 ? '/loans-client' : '/detail-client'\n      }\n      return this.backMainRoute\n    },\n\n    ...mapState('loansStore', ['backRoute', 'loanSelected', 'fees', 'total', 'numPaid', 'backMainRoute'])\n  },\n\n  methods: {\n    getFees () {\n      const fees = this.uc.getFeesByLoan(this.loanSelected.id)\n      const totalFees = this.uc.getTotalFees(this.loanSelected.id)\n\n      this.setFees({ fees: fees, total: totalFees.total, numPaid: totalFees.numPaid })\n    },\n\n    async validateLoan () {\n      if (this.total === this.loanSelected.balance) {\n        const rta = await notification.confirm(\"El préstamos ya está pagado, dese cerrarlo?\")\n\n        if (rta.isConfirmed) {\n          this.loansUc.closeLoan(this.loanSelected.id)\n          await notification.notify('Préstamo cerrado')\n          this.$router.push(this.backRoute)\n        }\n      }\n    },\n\n    ...mapMutations('loansStore', ['setFees'])\n  },\n\n  created() {\n    if (!this.loanSelected) return this.$router.push('/loans')\n    this.getFees()\n    this.validateLoan()\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DetailLoan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DetailLoan.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DetailLoan.vue?vue&type=template&id=a198ed56&\"\nimport script from \"./DetailLoan.vue?vue&type=script&lang=js&\"\nexport * from \"./DetailLoan.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","goToBack","staticClass","_v","_s","clientName","_f","loanSelected","balance","total","date","feesNum","typeTime","fees","numPaid","staticRenderFns","parseInt","totalAmount","name","props","type","default","component","on","$event","openModal","numTotalFees","_l","fee","key","id","getFees","fillData","model","value","callback","$$v","expression","amount","closeModal","addFee","action","components","InputGeneral","InputDate","data","uc","computed","methods","notification","created","FeeRow","PaidAmountModal","PossibleDateModal","AddFeeModal","amountDetails","editLoan","deleteLoan","interes","AmountLoanDetails","clientsUc","LoanActions","LoanFees","LoanCard","TitleGeneral","loansUc"],"sourceRoot":""}